machine:
  php:
    version: 5.3.25
  services:
      - redis
      - docker

test:
  override:
    # syntax check php files
    - find ./src -name "*.php" -type f -print0 | xargs -0 -I {} php -l {}
    - find ./tests -name "*.php" -type f -print0 | xargs -0 -I {} php -l {}

    - vendor/bin/phpunit tests --coverage-text
    - vendor/bin/phpunit integration-tests/LDDFeatureRequesterTest.php
